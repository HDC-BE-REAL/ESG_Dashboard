# ğŸŒ¿ ESG Carbon Dashboard (Carbon Strategic OS)

> **AI ê¸°ë°˜ íƒ„ì†Œ ë°°ì¶œ ê´€ë¦¬ ë° ì „ëµì  ì˜ì‚¬ê²°ì • ì§€ì› í”Œë«í¼**

---

## ğŸ“– 1. í”„ë¡œì íŠ¸ ê°œìš” (Project Overview)

**ESG Carbon Dashboard**ëŠ” ê¸°ì—…ì˜ í™˜ê²½ì  ì±…ì„(Environmental)ì„ ë°ì´í„° ì¤‘ì‹¬ì˜ ì „ëµì  ìì‚°ìœ¼ë¡œ ì „í™˜í•˜ê¸° ìœ„í•´ ê°œë°œëœ **Carbon Strategic OS**ì…ë‹ˆë‹¤.

ë‹¨ìˆœíˆ ê³¼ê±°ì˜ ë°°ì¶œëŸ‰ì„ ê¸°ë¡í•˜ëŠ” ë° ê·¸ì¹˜ì§€ ì•Šê³ , ë‹¤ìŒê³¼ ê°™ì€ í•µì‹¬ ê°€ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤:

- **ì‹¤ì‹œê°„ íŠ¸ë˜í‚¹**: ê¸€ë¡œë²Œ íƒ„ì†Œ ì‹œì¥(EU-ETS, K-ETS)ê³¼ ì—ë„ˆì§€ ê°€ê²©(WTI)ì„ ì—°ë™í•œ ì‹¤ì‹œê°„ ë¦¬ìŠ¤í¬ ë¶„ì„.
- **ê²½ìŸì‚¬ ë²¤ì¹˜ë§ˆí‚¹**: íƒ„ì†Œ ì§‘ì•½ë„(Carbon Intensity) ê¸°ì¤€ ë™ì¢… ì—…ê³„ ë‚´ ìˆœìœ„ ë° ê²©ì°¨ ì‹œê°í™”.
- **K-ETS ì‹œë®¬ë ˆì´í„°**: ìˆœ ë°°ì¶œ ë…¸ì¶œëŸ‰(Net Exposure) ê³„ì‚° ë° 3ê°€ì§€ ìµœì  ì¡°ë‹¬ ì „ëµ ìë™ ìƒì„±.
- **ëª©í‘œ ê¸°ë°˜ ì˜ì‚¬ê²°ì •**: SBTi ê¸°ë°˜ ê°ì¶• ê²½ë¡œì™€ ëª©í‘œ ë‹¬ì„± í™•ë¥ (Monte Carlo)ì„ ì •ëŸ‰ì ìœ¼ë¡œ ì œì‹œí•˜ì—¬ ì‹¤í–‰ ìš°ì„ ìˆœìœ„ ê²°ì • ì§€ì›.
- **ì§€ì‹ ì¦ê°• ì§ˆì˜ì‘ë‹µ**: RAG(Retrieval-Augmented Generation) ê¸°ìˆ ì„ í†µí•´ ë¹„ì •í˜• ESG ë³´ê³ ì„œì—ì„œ ì¦‰ê°ì ì¸ ì „ëµ ì¸ì‚¬ì´íŠ¸ë¥¼ ì¶”ì¶œ.

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œë°œìë¿ë§Œ ì•„ë‹ˆë¼ ESG ì‹¤ë¬´ì, CFO, ê·¸ë¦¬ê³  ì§€ì† ê°€ëŠ¥ì„± ì „ëµê°€ê°€ ì‹¤ë¬´ì—ì„œ ì¦‰ì‹œ í™œìš©í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì˜ **ì „ë¬¸ ê¸°ìˆ  ë„êµ¬**ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

## ğŸ“‘ 2. ëª©ì°¨ (Table of Contents)

1. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-3-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜-system-architecture)
2. [í•µì‹¬ ê¸°ëŠ¥ ë° ì„¤ê³„ ì˜ë„](#-4-í•µì‹¬-ê¸°ëŠ¥-ë°-ì„¤ê³„-ì˜ë„-core-features)
   - [Dashboard: ë°°ì¶œëŸ‰ í†µí•© ëŒ€ì‹œë³´ë“œ](#41-dashboard-tab-ë°°ì¶œëŸ‰-í†µí•©-ëŒ€ì‹œë³´ë“œ)
   - [Compare: ê²½ìŸì‚¬ ë¹„êµ ë¶„ì„](#42-compare-tab-ê²½ìŸì‚¬-ë¹„êµ-ë¶„ì„)
   - [Simulator: K-ETS ì¤€ìˆ˜ ë¹„ìš© ì‹œë®¬ë ˆì´í„°](#43-simulator-tab-k-ets-ì¤€ìˆ˜-ë¹„ìš©-ì‹œë®¬ë ˆì´í„°)
   - [Target: SBTi ëª©í‘œ ê´€ë¦¬](#44-target-tab-sbti-ëª©í‘œ-ê´€ë¦¬)
   - [ChatBot: AI ì „ëµ ì—ì´ì „íŠ¸](#45-chatbot-ai-ì „ëµ-ì—ì´ì „íŠ¸)
   - [ì¸ì¦ ì‹œìŠ¤í…œ](#46-ì¸ì¦-ì‹œìŠ¤í…œ-authentication)
   - [í”„ë¡œí•„ ì„¤ì •](#47-í”„ë¡œí•„-ì„¤ì •-profile-settings)
3. [ê¸°ìˆ  ìŠ¤íƒ ë° ëª¨ë“ˆ ì—°ë™](#ï¸-5-ê¸°ìˆ -ìŠ¤íƒ-ë°-ëª¨ë“ˆ-ì—°ë™-tech-stack--implementation)
4. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-6-í”„ë¡œì íŠ¸-êµ¬ì¡°-project-structure)
5. [í˜ì´ì§€ ë¼ìš°íŒ… êµ¬ì¡°](#ï¸-7-í˜ì´ì§€-ë¼ìš°íŒ…-êµ¬ì¡°-page-routing)
6. [ì„¤ì¹˜ ë° ì„¤ì •](#ï¸-8-ì„¤ì¹˜-ë°-ì„¤ì •-installation--setup)
7. [API ëª…ì„¸](#-9-api-ëª…ì„¸-api-specification)
8. [AI ëª¨ë¸ í‰ê°€](#-10-ai-ëª¨ë¸-í‰ê°€-ai-model-evaluation)

---

## ğŸ“ 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (System Architecture)

### 3.1 ì „ì²´ íŒŒì´í”„ë¼ì¸

```mermaid
graph TB
    subgraph "Client Layer"
        Browser[ì›¹ ë¸Œë¼ìš°ì €]
    end

    subgraph "Frontend (React 18 + TypeScript + Vite)"
        UI[UI Components<br/>Recharts / TailwindCSS 4]
        State[State Management<br/>React Hooks + localStorage]
        Router[View State Router<br/>URL Query Params + History API]
    end

    subgraph "Backend (FastAPI + Uvicorn, Port 8000)"
        Auth[Auth Router<br/>/auth]
        Dashboard[Dashboard Router<br/>/api/v1/dashboard]
        Sim[Simulator Router<br/>/api/v1/sim]
        AI[AI Router<br/>/api/v1/ai]
        KRX[KRX Router<br/>/api/v1/krx]
        Profile[Profile Router<br/>/api/v1/profile]
    end

    subgraph "Data & AI Layer"
        MySQL[(MySQL DB<br/>users / dashboard_emissions)]
        ChromaDB[(ChromaDB<br/>Vector Store / RAG)]
        Ollama[Ollama LLM<br/>qwen2.5:7b Local]
        SBERT[Sentence-BERT<br/>jhgan/ko-sroberta-multitask]
    end

    subgraph "External APIs"
        yfinance[yfinance<br/>EU-ETS / EUA Futures]
        FDR[FinanceDataReader<br/>K-ETS / KAU]
        KRXMarket[KRX Market<br/>KOSPI / KOSDAQ]
        OilAPI[Oil Price API<br/>WTI / Brent]
    end

    Browser --> UI
    UI --> State --> Router
    Router -->|Axios HTTP/REST| Auth & Dashboard & Sim & AI & KRX & Profile
    Auth --> MySQL
    Dashboard --> MySQL
    Sim --> yfinance & FDR & OilAPI
    AI --> ChromaDB & Ollama
    ChromaDB --> SBERT
    KRX --> KRXMarket
    Profile --> MySQL
```

---

## ğŸš€ 4. í•µì‹¬ ê¸°ëŠ¥ ë° ì„¤ê³„ ì˜ë„ (Core Features)

### 4.1 Dashboard Tab (ë°°ì¶œëŸ‰ í†µí•© ëŒ€ì‹œë³´ë“œ)

- **ì—­í• (Role)**: ê¸°ì—…ì˜ Scope 1, 2, 3 ë°°ì¶œ í˜„í™© ë° ì¬ë¬´ ë¦¬ìŠ¤í¬ ì§€í‘œë¥¼ í•œëˆˆì— ì‹œê°í™”.
- **ì˜ë„(Purpose)**:
  - **ì¦‰ê°ì ì¸ í˜„í™© íŒŒì•…**: ê²½ì˜ì§„ì´ 4ê°œì˜ KPI ì¹´ë“œ(ì´ ë°°ì¶œëŸ‰, íƒ„ì†Œ ì§‘ì•½ë„, YTD ì¦ê°ë¥ , SBTi ë‹¬ì„± í™•ë¥ )ë¥¼ 3ì´ˆ ì´ë‚´ì— íŒŒì•…í•˜ë„ë¡ ì„¤ê³„.
  - **ë¦¬ìŠ¤í¬ ê¸ˆì•¡í™”**: ë‹¨ìˆœ ë°°ì¶œëŸ‰ ìˆ˜ì¹˜ë¥¼ ë„˜ì–´, í˜„ì¬ EU-ETS/K-ETS ê°€ê²©ì„ ì ìš©í•œ **ì¬ë¬´ì  ë¦¬ìŠ¤í¬ ê¸ˆì•¡**ì„ ì‹¤ì‹œê°„ ì‚°ì¶œ.
  - **ê¶¤ì  ì‹œê°í™”**: 2021ë…„ë¶€í„°ì˜ ì‹¤ì œ ë°°ì¶œëŸ‰ ì¶”ì´ì™€ OLS íšŒê·€ ì˜ˆì¸¡ì„ , `SBTi 1.5Â°C` ê°ì¶• ê²½ë¡œë¥¼ ë™ì‹œì— í‘œì‹œ. íˆ´íŒì—ì„œëŠ” actual ê°’ì´ ìˆëŠ” ì—°ë„ì˜ forecast ì¤‘ë³µ í‘œì‹œ ì œê±°.
  - **ë°”ë¡œê°€ê¸° ì¹´ë“œ**: KPI ì¹´ë“œ í´ë¦­ ì‹œ ê´€ë ¨ íƒ­(ê²½ìŸì‚¬ ë¹„êµ, ì‹œë®¬ë ˆì´í„°, ëª©í‘œ ê´€ë¦¬)ìœ¼ë¡œ ì¦‰ì‹œ ì´ë™.
- **KPI ì¹´ë“œ êµ¬ì„±**:
  1. **ì´ ë°°ì¶œëŸ‰** (Scope 1+2): tCOâ‚‚e
  2. **íƒ„ì†Œ ì§‘ì•½ë„**: tCOâ‚‚e / ë§¤ì¶œ 1ì–µì› ë˜ëŠ” ì—ë„ˆì§€ ì§‘ì•½ë„(TJ/ì–µì›) ì „í™˜ ê°€ëŠ¥
  3. **YTD ë¶„ì„**: ì „ë…„ ëŒ€ë¹„ % ì¦ê°
  4. **SBTi ë‹¬ì„± í™•ë¥ **: Monte Carlo ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ (%)
- **Header UI**: ëª¨ë“  íƒ­(Dashboard í¬í•¨)ì— ê½ƒ(flower) + ì¤„ê¸° + ì ì• ë‹ˆë©”ì´ì…˜ ì•„ì´ì½˜ í‘œì‹œ. Dashboard íƒ­ì€ ì¤‘ì•™ ë¼ë²¨ `"Home"` ìœ¼ë¡œ í‘œì‹œ. Profile ë·° ì§„ì… ì‹œ "Profile Setting" í‘œì‹œ.
- **ê¸°ìˆ  ìš”ì†Œ**: Recharts(ì‹œê³„ì—´ ì°¨íŠ¸), ë¡œê·¸-ì„ í˜• OLS íšŒê·€, Monte Carlo(10,000íšŒ), `navigateTo()` íˆìŠ¤í† ë¦¬ ì—°ë™.

---

### 4.2 Compare Tab (ê²½ìŸì‚¬ ë¹„êµ ë¶„ì„)

- **ì—­í• (Role)**: ë™ì¢… ì—…ê³„ ê¸°ì—… ê°„ íƒ„ì†Œ ì§‘ì•½ë„ ìˆœìœ„ ë° ê²©ì°¨ë¥¼ ì‹œê°í™”í•˜ì—¬ ê²½ìŸ í¬ì§€ì…˜ íŒŒì•….
- **ì˜ë„(Purpose)**:
  - **ë²¤ì¹˜ë§ˆí‚¹**: ë§¤ì¶œ ê¸°ë°˜ ë˜ëŠ” ì—ë„ˆì§€ ê¸°ë°˜ íƒ„ì†Œ ì§‘ì•½ë„ë¡œ ì‚°ì—… ë‚´ ìˆœìœ„ íŒŒì•….
  - **ì„ê³„ì„  í‘œì‹œ**: Top 10%(ì´ˆë¡), ì¤‘ì•™ê°’(íšŒìƒ‰), Bottom 10%(ë¹¨ê°•) 3ê°œ ì„ê³„ì„ ìœ¼ë¡œ ì¦‰ê°ì ì¸ ìœ„ì¹˜ íŒë‹¨.
  - **ë°ì´í„° ì‹ ë¢°ë„**: ë°ì´í„° ì¶œì²˜ë³„ ì‹ ë¢° ì ìˆ˜(Trust Score) í‘œì‹œë¡œ ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬.
  - **ìƒì„¸ íƒìƒ‰**: ê²½ìŸì‚¬ í´ë¦­ ì‹œ Scope 1/2/3 ì„¸ë¶€ ë‚´ì—­ í”„ë¡œí•„ íŒì—….
  - **ì „ëµ ì—°ê³„**: ì „ëµì  ì¸ì‚¬ì´íŠ¸ ì„¹ì…˜ì˜ "ì„¸ë¶€ ì‹¤í–‰ ê³„íš" ë²„íŠ¼ í´ë¦­ ì‹œ Simulator íƒ­ìœ¼ë¡œ ì¦‰ì‹œ ì´ë™.
- **ì§‘ì•½ë„ ìœ í˜• ì „í™˜**:
  - **Revenue-based**: (Scope 1+2+3) / ë§¤ì¶œ 1ì–µì› (tCOâ‚‚e/ì–µì›)
  - **Energy-based**: ì—ë„ˆì§€ ì§‘ì•½ë„ (TJ/ì–µì›)
- **ê¸°ìˆ  ìš”ì†Œ**: Recharts(ìˆ˜í‰ ë°” ì°¨íŠ¸), ë™ì  ì„ê³„ì„  ê³„ì‚°, ê¸°ì—…ë³„ history ë°°ì—´ í™œìš©, `navigateTo('dashboard', 'simulator')` ì—°ë™.

---

### 4.3 Simulator Tab (K-ETS ì¤€ìˆ˜ ë¹„ìš© ì‹œë®¬ë ˆì´í„°)

- **ì—­í• (Role)**: ê¸€ë¡œë²Œ íƒ„ì†Œ ì‹œì¥ ë™í–¥ ì¡°íšŒ ë° K-ETS ê¸°ë°˜ ìˆœ ë…¸ì¶œëŸ‰ ì‚°ì¶œÂ·ì¡°ë‹¬ ì „ëµ ìˆ˜ë¦½ ì§€ì›.
- **ì˜ë„(Purpose)**:
  - **ê¸€ë¡œë²Œ ê°€ê²© ë™í–¥**: EU-ETS / K-ETS ê°€ê²© ì¶”ì´ë¥¼ ì‹œê°„ ë²”ìœ„(1ê°œì›”/3ê°œì›”/1ë…„/ì „ì²´) ë³„ë¡œ ì„ íƒ ì¡°íšŒ.
  - **ìˆœ ë…¸ì¶œëŸ‰ ì‚°ì¶œ**: ì¡°ì • ë°°ì¶œëŸ‰ âˆ’ ì¡°ì • í• ë‹¹ëŸ‰ âˆ’ ì‹¤í˜„ ê°€ëŠ¥ ê°ì¶•ëŸ‰ = **Net Exposure**
  - **íƒ„ì†Œ ê°€ê²© ì‹œë‚˜ë¦¬ì˜¤**: ë‚™ê´€(â‚©10,000) / ê¸°ì¤€(â‚©15,000) / ë¹„ê´€(â‚©25,000) 3ë‹¨ê³„ + ì§ì ‘ ì…ë ¥ ì§€ì›.
  - **ì‹¤ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜**: ìŠ¬ë¼ì´ë”/í† ê¸€ ì¡°ì‘ ì¦‰ì‹œ STEP 4 ê²°ê³¼ ìš”ì•½ ìë™ ê°±ì‹  (í™•ì¸ ë²„íŠ¼ ë¶ˆí•„ìš”).
- **4ë‹¨ê³„ ì‹œë®¬ë ˆì´ì…˜ íë¦„**:

  | STEP | ëª…ì¹­                  | ì£¼ìš” ë‚´ìš©                                                           |
  |:----:|:--------------------- |:------------------------------------------------------------------- |
  | 1    | ì§ì ‘ íƒ„ì†Œ ë°°ì¶œëŸ‰       | KPI ì¹´ë“œ (ì˜ˆìƒ ë°°ì¶œëŸ‰/ìˆœ ë…¸ì¶œëŸ‰/ì˜ˆìƒ ë¹„ìš©), ê°€ê²© ì‹œë‚˜ë¦¬ì˜¤Â·ë°°ì¶œ ë³€ë™Â·í• ë‹¹ ì •ì±…Â·ê²½ë§¤ ìƒì„¸ ì„¤ì • |
  | 2    | ì „ëµ ë°°ë¶„             | ì»´í”Œë¼ì´ì–¸ìŠ¤(ë°°ì¶œê¶Œ êµ¬ë§¤) vs ê°ì¶•ì‹œì„¤ íˆ¬ì ë¹„ìœ¨ ìŠ¬ë¼ì´ë”              |
  | 3    | ë¶„í•  ë§¤ìˆ˜ í¬íŠ¸í´ë¦¬ì˜¤   | íŠ¸ëœì¹˜(Tranche)ë³„ ì‹œì¥Â·ë¹„ì¤‘Â·ë‹¨ê°€ ì„¤ì •, K/EU-ETS ê°€ì¤‘í‰ê·  êµ¬ë§¤ê°€Â·ë¦¬ìŠ¤í¬ í‰ì • |
  | 4    | ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ìš”ì•½   | ìµœì¢… íƒ„ì†Œë¹„ìš©Â·íƒ„ì†Œ ì˜ˆì‚° ëŒ€ë¹„Â·ì „ëµ ê¶Œê³  (ì‹¤ì‹œê°„ ìë™ ê°±ì‹ )             |

- **ê°ì¶• ìˆ˜ë‹¨ ì˜µì…˜** (í•œê³„ì €ê°ë¹„ìš© MAC ê¸°ì¤€):

  | ìˆ˜ë‹¨           | MAC (â‚©/tCOâ‚‚e) | ì†Œìš” ê¸°ê°„ | ë‹¹í•´ ì ìš© |
  |:-------------- |:------------- |:-------- |:-------- |
  | ì—ë„ˆì§€ íš¨ìœ¨ ê°œì„  | 8,000         | 6ê°œì›”    | âœ…       |
  | ê³µì • ê°œì„       | 12,000         | 9ê°œì›”    | âœ…       |
  | ì—°ë£Œ ì „í™˜      | 22,000         | 12ê°œì›”   | âœ…       |
  | ì¬ìƒì „ë ¥ ë„ì…  | 35,000         | 18ê°œì›”   | âŒ       |

- **ì¡°ë‹¬ êµ¬ì„±**:
  - ë¬´ìƒ í• ë‹¹ (ê¸°ì¤€ ë°°ì¶œëŸ‰ì˜ 90%), ì •ë¶€ ê²½ë§¤ (ì‹œì¥ê°€ ëŒ€ë¹„ ~2.3% ì ˆê°), KRX ì‹œì¥ êµ¬ë§¤
  - ê²½ë§¤ ì°¸ì—¬ ë¹„ì¤‘: 0~30% ìŠ¬ë¼ì´ë”ë¡œ ì¡°ì ˆ ê°€ëŠ¥
- **ê¸°ìˆ  ìš”ì†Œ**: ì»¤ìŠ¤í…€ ìˆ˜ì‹ ì—”ì§„ (App.tsx `simResult` useMemo), Recharts (ComposedChart), yfinance/FDR ì‹œì¥ ë°ì´í„° ì—°ë™.

---

### 4.4 Target Tab (SBTi ëª©í‘œ ê´€ë¦¬)

- **ì—­í• (Role)**: SBTi ê¸°ì¤€ì—°ë„(2021) ëŒ€ë¹„ ê°ì¶• ê²½ë¡œì™€ í˜„ì¬ ì‹¤ì  ê°„ ê²©ì°¨ë¥¼ ì‹œê°í™”í•˜ê³  2030/2050 ëª©í‘œ ë‹¬ì„± ê°€ëŠ¥ì„±ì„ ì •ëŸ‰í™”.
- **ì˜ë„(Purpose)**:
  - **ëª©í‘œ ì •ë ¬**: ê¸°ì¤€ ë°°ì¶œëŸ‰(2021), í˜„ì¬ ë°°ì¶œëŸ‰, SBTi ëª©í‘œ ë‹¬ì„± ì—¬ë¶€ë¥¼ í•œ í™”ë©´ì—ì„œ í™•ì¸.
  - **í™•ë¥  ê¸°ë°˜ íŒë‹¨**: OLS íšŒê·€ + Bayesian ìˆ˜ë ´ + Monte Carlo(10,000íšŒ) ê¸°ë°˜ 2030 ëª©í‘œ ë‹¬ì„± í™•ë¥  ì œê³µ.
  - **Net Zero 2050 ì¶”ì **: í˜„ì¬ ê°ì¶•ë¥ ê³¼ 2050 ëª©í‘œ(90%+ ê°ì¶•) ê°„ ê²©ì°¨ ì‹¤ì‹œê°„ í‘œì‹œ.
  - **ì •í™•í•œ ëª©í‘œë‹¬ì„±ë„ íŒì •**: `yearsElapsed` ê¸°ì¤€ì„ í˜„ì¬ ì—°ë„(2026)ê°€ ì•„ë‹Œ ìµœì‹  ë°ì´í„° ì—°ë„(`latestDataYear`, í†µìƒ 2024)ë¡œ ì„¤ì •í•˜ì—¬ ë™ì¼ ì—°ë„ ê¸°ì¤€ìœ¼ë¡œ ì •í™•íˆ íŒì •.
- **KPI ì¹´ë“œ êµ¬ì„±**:
  1. **ê¸°ì¤€ ë°°ì¶œëŸ‰ (2021)**: tCOâ‚‚e
  2. **ìµœì‹  ë°°ì¶œëŸ‰**: tCOâ‚‚e + 2021ë…„ ëŒ€ë¹„ % ê°ì¶•
  3. **SBTi ë‹¬ì„± ì—¬ë¶€**: On-Track / Off-Track + ëª©í‘œ ëŒ€ë¹„ ê²©ì°¨
  4. **Net Zero 2050**: í•„ìš” ì´ ê°ì¶•ëŸ‰(90%+), í˜„ì¬ ë‹¬ì„±(%), ì”ì—¬ ê²©ì°¨(%)
- **ì°¨íŠ¸**: ì œëª© `"ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶• ë¡œë“œë§µ (Net Zero ê²½ë¡œ)"`, ë°©ë²•ë¡  ì£¼ì„ `"ì˜¨ì‹¤ê°€ìŠ¤ ê°ì¶• ê²½ë¡œ:"` í‘œì‹œ.
- **ì˜ˆì¸¡ ë°©ë²•ë¡ **:

  ```
  ëª¨ë¸: log(E_t) = Î± + Î²*t  (ë¡œê·¸-ì„ í˜• OLS íšŒê·€)
  ê°ì¶• ëª©í‘œ: ì—°ê°„ 4.2% (SBTi ì ˆëŒ€ ê°ì¶• ê¸°ì¤€)
  Monte Carlo: 10,000íšŒ ìƒ˜í”Œë§ â†’ 2030 ë‹¬ì„± í™•ë¥  ê³„ì‚°

  Bayesian ì—…ë°ì´íŠ¸:
    Prior: Î²_prior = log(1 - 0.042), ê°€ì¤‘ì¹˜ n_prior = 4
    Posterior: (n * Î²_ols + n_prior * Î²_prior) / (n + n_prior)
  ```

- **ê¸°ìˆ  ìš”ì†Œ**: OLS íšŒê·€, Bayesian ì—…ë°ì´íŠ¸, Monte Carlo ì‹œë®¬ë ˆì´ì…˜(10,000íšŒ), Recharts(ê¶¤ì  ì°¨íŠ¸).

---

### 4.5 ChatBot (AI ì „ëµ ì—ì´ì „íŠ¸)

- **ì—­í• (Role)**: ESG ê³µì‹œ ìë£Œ ê¸°ë°˜ RAG ì§ˆì˜ì‘ë‹µ ë° Text-to-SQL.
- **ì˜ë„(Purpose)**:
  - **ì§€ì‹ ìë™í™”**: ìˆ˜ë°± í˜ì´ì§€ì˜ PDF ë³´ê³ ì„œì—ì„œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¦‰ì‹œ ì¶”ì¶œí•˜ì—¬ ë³´ê³ ì„œ ì‘ì„± ì‹œê°„ ë‹¨ì¶•.
  - **ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ**: ì‹¤ì‹œê°„ í† í° ì¶œë ¥ìœ¼ë¡œ ì‚¬ìš©ì ëŒ€ê¸° ì‹œê°„ ìµœì†Œí™”.
  - **ë¬¸ë§¥ ìœ ì§€**: ìµœê·¼ 8ê°œ ë©”ì‹œì§€ë¥¼ LLMì— ì „ë‹¬í•˜ì—¬ ëŒ€í™” íë¦„ ìœ ì§€.
  - **ë°ì´í„° ì ‘ê·¼ì„±**: ìì—°ì–´ë¡œ DB ì •ë³´ë¥¼ ì¡°íšŒ ê°€ëŠ¥í•œ Text-to-SQL ê¸°ëŠ¥.
- **RAG íŒŒì´í”„ë¼ì¸**:

  ```
  ì‚¬ìš©ì ì§ˆë¬¸
    â†’ ChromaDB ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê²€ìƒ‰ (Top-5 ì²­í¬)
    â†’ ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ + ëŒ€í™” íˆìŠ¤í† ë¦¬ + ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸
    â†’ Ollama (qwen2.5:7b) ìŠ¤íŠ¸ë¦¬ë° ì¶”ë¡ 
    â†’ ì‹¤ì‹œê°„ í† í° ì‘ë‹µ (fetch ReadableStream)
  ```

- **ê¸°ìˆ  ìš”ì†Œ**: ChromaDB, Sentence-BERT (jhgan/ko-sroberta-multitask, í•œêµ­ì–´ ìµœì í™”), Ollama (qwen2.5:7b ë¡œì»¬ LLM), FastAPI StreamingResponse.

---

### 4.6 ì¸ì¦ ì‹œìŠ¤í…œ (Authentication)

- **ì—­í• (Role)**: ì‚¬ìš©ì íšŒì›ê°€ì…, ë¡œê·¸ì¸, JWT ì„¸ì…˜ ê´€ë¦¬.
- **ì˜ë„(Purpose)**:
  - **ì ‘ê·¼ ì œì–´**: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ëŒ€ì‹œë³´ë“œ ê¸°ëŠ¥ì— ì ‘ê·¼ ê°€ëŠ¥.
  - **ê°œì¸í™”**: ì‚¬ìš©ìë³„ í”„ë¡œí•„ ì„¤ì • ë° ê¸°ì—… ì»¨í…ìŠ¤íŠ¸ ì—°ë™.
- **ì¸ì¦ íë¦„**:

  ```
  Signup â†’ bcrypt(password) â†’ User ì €ì¥(MySQL)
  Login  â†’ bcrypt ê²€ì¦ â†’ JWT ë°œê¸‰ (HS256, 24h ìœ íš¨)
         â†’ localStorage ì €ì¥ â†’ WelcomePage ì´ë™ (3ì´ˆ ìë™)
  Refresh â†’ token ì¡´ì¬ ì‹œ dashboard ìë™ ë³µì›
  ```

- **ê¸°ìˆ  ìš”ì†Œ**: bcrypt(ë¹„ë°€ë²ˆí˜¸ í•´ì‹±), JWT(python-jose), SQLAlchemy (User ëª¨ë¸).

---

### 4.7 í”„ë¡œí•„ ì„¤ì • (Profile Settings)

- **ì—­í• (Role)**: ì‚¬ìš©ì ë‹‰ë„¤ì„, ë¶„ë¥˜, ìê¸°ì†Œê°œ, í”„ë¡œí•„ ì´ë¯¸ì§€ ë“± ê°œì¸ ì •ë³´ ê´€ë¦¬.
- **ì˜ë„(Purpose)**:
  - **ì‚¬ìš©ì ê²½í—˜**: ë…ë¦½ëœ ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜(Header ì•„ë˜ ê³ ì •, `top-28 z-40`)ê³¼ ì§ê´€ì ì¸ í¸ì§‘ UI ì œê³µ.
  - **ESG ì•„ì´ë´í‹°í‹°**: ë©¸ì¢…ìœ„ê¸°ì¢…(í¬ìœ ë¥˜/ì¡°ë¥˜/ì–‘ì„œë¥˜ ë“±) í…Œë§ˆë¥¼ ì ìš©í•˜ì—¬ í™˜ê²½ì  ë©”ì‹œì§€ ì „ë‹¬.
  - **ë™ì  í€´ì¦ˆ ë±ƒì§€(QuizBadge)**: ë‹‰ë„¤ì„ì—ì„œ ë™ë¬¼ í‚¤ì›Œë“œ(ëˆˆí‘œë²”/ë¬¼ë°©ê°œ/íŒë‹¤/í˜¸ë‘ì´/ë…ìˆ˜ë¦¬) ê°ì§€ ì‹œ í•´ë‹¹ ë©¸ì¢…ìœ„ê¸° ë™ë¬¼ í€´ì¦ˆ í‘œì‹œ, ë¯¸ê°ì§€ ì‹œ íƒ„ì†Œì¤‘ë¦½ ê¸°ë³¸ í€´ì¦ˆ í‘œì‹œ. ì•„ì´ì½˜ í´ë¦­ìœ¼ë¡œ ì—´ê³  ì™¸ë¶€ í´ë¦­ ë˜ëŠ” Xë¡œ ë‹«ìŒ.
  - **íšŒì› íƒˆí‡´**: í™•ì¸ ëª¨ë‹¬(ë¹„ë°€ë²ˆí˜¸ ì¬í™•ì¸)ê³¼ í•¨ê»˜ ê³„ì • ì‚­ì œ ì§€ì›.
- **í”„ë¡œí•„ í•„ë“œ**: ë‹‰ë„¤ì„, ë©¸ì¢…ìœ„ê¸°ì¢… ë¶„ë¥˜(ë“œë¡­ë‹¤ìš´), ì†Œì† ê¸°ì—…ëª…(API ëª©ë¡ ë“œë¡­ë‹¤ìš´ ì„ íƒ), ìê¸°ì†Œê°œ(500ì), í”„ë¡œí•„ ì´ë¯¸ì§€ URL.
- **ê¸°ìˆ  ìš”ì†Œ**: multipart/form-data ì´ë¯¸ì§€ ì—…ë¡œë“œ (`/static/profile/`), React State, FastAPI íŒŒì¼ í•¸ë“¤ë§.

---

## ğŸ› ï¸ 5. ê¸°ìˆ  ìŠ¤íƒ ë° ëª¨ë“ˆ ì—°ë™ (Tech Stack & Implementation)

### 5.1 Frontend

| ê¸°ìˆ                               | ë²„ì „    | ìš©ë„                                                             |
|:--------------------------------- |:------- |:--------------------------------------------------------------- |
| **React**                         | 18      | ì„ ì–¸ì  UI ë° ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜                               |
| **TypeScript**                    | 5.2     | ê°•í•œ íƒ€ì… ì²´í¬ë¡œ ëŒ€ê·œëª¨ ì‹œë®¬ë ˆì´ì…˜ì—ì„œë„ ë Œë”ë§ ì•ˆì •ì„± í™•ë³´         |
| **Vite**                          | 5.1     | ë¹ ë¥¸ HMR ë° ìµœì í™”ëœ í”„ë¡œë•ì…˜ ë¹Œë“œ                               |
| **TailwindCSS**                   | 4.0     | ëª¨ë˜ ë””ìì¸ ì‹œìŠ¤í…œ, ë‹¤í¬ ëª¨ë“œ/ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì§ê´€ì  êµ¬í˜„          |
| **Recharts**                      | 2.12    | ì‹œê³„ì—´ ì‹œì¥ ë°ì´í„° ë° ë¹„êµ ì°¨íŠ¸ (Line, Bar, Pie, Area)            |
| **Axios**                         | 1.6.7   | REST API í†µì‹  ë° JWT ì¸í„°ì…‰í„°                                    |
| **Framer Motion**                 | -       | í˜ì´ì§€ ì „í™˜ ë° ì»´í¬ë„ŒíŠ¸ ì• ë‹ˆë©”ì´ì…˜                               |
| **Lucide React**                  | -       | ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬                                                |
| **CVA (class-variance-authority)** | -      | ì¡°ê±´ë¶€ Tailwind í´ë˜ìŠ¤ ê´€ë¦¬                                      |

### 5.2 Backend & Data

| ê¸°ìˆ                               | ìš©ë„                                                                         |
|:--------------------------------- |:---------------------------------------------------------------------------- |
| **FastAPI & Uvicorn**             | ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘ ë° AI ëª¨ë¸ ì¶”ë¡  ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ì„±ëŠ¥ ê·¹ëŒ€í™”      |
| **SQLAlchemy & MySQL (PyMySQL)**  | ì‚¬ìš©ì/ë°°ì¶œëŸ‰ ë°ì´í„° ì €ì¥ ë° ORM íŠ¸ëœì­ì…˜ ì²˜ë¦¬                               |
| **yfinance**                      | ê¸€ë¡œë²Œ íƒ„ì†Œ ì„ ë¬¼(FCO2.FRK, CO2.L, FCO2.DE) ë° ì—ë„ˆì§€ ê°€ê²© ë°ì´í„°             |
| **FinanceDataReader (pykrx)**     | êµ­ë‚´ K-ETS ë°°ì¶œê¶Œ(KAU) ë° KOSPI/KOSDAQ ì¢…ëª© ë°ì´í„°                          |
| **Alpha Vantage**                 | EU-ETS íƒ„ì†Œ ê°€ê²© ë³´ì¡° ë°ì´í„° ì†ŒìŠ¤ (ë‹¤ì¤‘ fallback ì„¤ê³„)                       |
| **passlib & bcrypt**              | ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ë° ì‚¬ìš©ì ì¸ì¦                                           |
| **python-jose**                   | JWT í† í° ìƒì„± ë° ê²€ì¦ (HS256)                                                |

### 5.3 AI & NLP

| ê¸°ìˆ                               | ìš©ë„                                                                         |
|:--------------------------------- |:---------------------------------------------------------------------------- |
| **Ollama (qwen2.5:7b)**           | ë¡œì»¬ LLM ì¶”ë¡  (í´ë¼ìš°ë“œ API ì—†ì´ ì˜¨í”„ë ˆë¯¸ìŠ¤ ë™ì‘)                            |
| **ChromaDB**                      | PDFì—ì„œ ì¶”ì¶œëœ í…ìŠ¤íŠ¸ ì„ë² ë”© ì €ì¥ ë° ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê¸°ë°˜ ì‹œë§¨í‹± ê²€ìƒ‰            |
| **Sentence-Transformers**         | í•œêµ­ì–´ ë¬¸ë§¥ ì´í•´ì— ìµœì í™”ëœ `jhgan/ko-sroberta-multitask` ëª¨ë¸ ì‚¬ìš©           |
| **Docling & PyMuPDF**             | ë³µì¡í•œ í‘œì™€ êµ¬ì¡°ë¥¼ í¬í•¨í•œ ESG ë³´ê³ ì„œ PDFë¥¼ íŒŒì´í† ë‹‰ ë°ì´í„°ë¡œ ë³€í™˜             |

---

## ğŸ“‚ 6. í”„ë¡œì íŠ¸ êµ¬ì¡° (Project Structure)

```plaintext
ESG_Dashboard/
â”œâ”€â”€ requirements.txt              # ê³µí†µ Python ì˜ì¡´ì„± (backend + PDF_Extraction)
â”œâ”€â”€ .env                          # í™˜ê²½ ë³€ìˆ˜ (API í‚¤, DB ì ‘ì† ì •ë³´ ë“±)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ í˜ì´ì§€_ë¼ìš°íŒ…_êµ¬ì¡°.md         # í˜ì´ì§€ ë¼ìš°íŒ… ìƒì„¸ ì„¤ê³„ì„œ (Korean)
â”‚
â”œâ”€â”€ backend/                      # FastAPI ê¸°ë°˜ ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ routers/              # API ì—”ë“œí¬ì¸íŠ¸ ë¼ìš°í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py           #   POST /auth/signup, /auth/login
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.py      #   GET /api/v1/dashboard/companies, /benchmarks
â”‚   â”‚   â”‚   â”œâ”€â”€ simulator.py      #   GET /api/v1/sim/market-trends, /oil-prices
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.py             #   POST /api/v1/ai/chat, /strategy, /text-to-sql
â”‚   â”‚   â”‚   â”œâ”€â”€ krx.py            #   GET /api/v1/krx/kospi, /kosdaq, /stock/{ticker}
â”‚   â”‚   â”‚   â””â”€â”€ profile.py        #   PUT/DELETE /api/v1/profile
â”‚   â”‚   â”œâ”€â”€ services/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ market_data.py    #   EU-ETS / K-ETS ë°ì´í„° ìˆ˜ì§‘ (4ì¤‘ fallback)
â”‚   â”‚   â”‚   â”œâ”€â”€ ai_service.py     #   RAG ê²€ìƒ‰, Ollama LLM ìŠ¤íŠ¸ë¦¬ë°
â”‚   â”‚   â”‚   â”œâ”€â”€ krx_service.py    #   KRX API ì—°ë™ (pykrx)
â”‚   â”‚   â”‚   â”œâ”€â”€ oil_price.py      #   WTI / Brent ìœ ê°€ ë°ì´í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ eex_scraper.py    #   EEX íƒ„ì†Œ ê°€ê²© ìŠ¤í¬ë˜í•‘
â”‚   â”‚   â”‚   â”œâ”€â”€ emission_extractor.py # PDF â†’ ë°ì´í„° ì¶”ì¶œ íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”‚   â””â”€â”€ extractors/       #   ì¶”ì¶œ ë°©ë²•ë³„ ì „ëµ íŒ¨í„´
â”‚   â”‚   â”‚       â”œâ”€â”€ regex.py      #     ì •ê·œì‹ ê¸°ë°˜ ì¶”ì¶œ
â”‚   â”‚   â”‚       â”œâ”€â”€ gpt_text.py   #     GPT í…ìŠ¤íŠ¸ ì¶”ì¶œ
â”‚   â”‚   â”‚       â”œâ”€â”€ gpt_vision.py #     GPT Vision (í‘œ OCR)
â”‚   â”‚   â”‚       â””â”€â”€ auto_pipeline.py #  ìë™ fallback íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ models.py             # SQLAlchemy ORM (User, DashboardEmission)
â”‚   â”‚   â”œâ”€â”€ database.py           # DB ì—°ê²° ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ config.py             # í™˜ê²½ ë³€ìˆ˜ ë° ì„¤ì • ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ schemas.py            # Pydantic ìš”ì²­/ì‘ë‹µ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ main.py               # FastAPI ì•± + ë¼ìš°í„° ë“±ë¡ + CORS ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ init_db.py            # DB ì´ˆê¸°í™” ë° ì‹œë“œ ë°ì´í„°
â”‚   â”‚   â””â”€â”€ static/               # ì •ì  íŒŒì¼ (í”„ë¡œí•„ ì´ë¯¸ì§€)
â”‚   â”œâ”€â”€ main.py                   # ë©”ì¸ ì§„ì…ì  (PDF_Extraction í†µí•©)
â”‚   â”œâ”€â”€ requirements.txt          # Backend ì „ìš© Python ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ test_api.py               # API í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ start.sh                  # ì„œë²„ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ frontend/                     # React ê¸°ë°˜ í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ features/             # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ (í•œê¸€ëª… í´ë” êµ¬ì¡°)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/             #   Login, Signup, WelcomePage
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/          #   Profile ì„¤ì • í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ ëŒ€ì‹œë³´ë“œ/          #   Dashboard íƒ­
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ components/   #     KPICards, EmissionPieChart, TrendChart
â”‚   â”‚   â”‚   â”œâ”€â”€ ê²½ìŸì‚¬ë¹„êµ/        #   Compare íƒ­ (ê²½ìŸì‚¬ ë¶„ì„)
â”‚   â”‚   â”‚   â”œâ”€â”€ ì‹œë®¬ë ˆì´í„°/        #   Simulator íƒ­ (K-ETS ë¹„ìš© ì‹œë®¬ë ˆì´ì…˜)
â”‚   â”‚   â”‚   â”œâ”€â”€ ëª©í‘œì„¤ì •/          #   Target íƒ­ (SBTi ëª©í‘œ ê´€ë¦¬)
â”‚   â”‚   â”‚   â”œâ”€â”€ ì±—ë´‡/             #   ChatBot (AI RAG ì±—ë´‡)
â”‚   â”‚   â”‚   â”œâ”€â”€ data-input/       #   ë°ì´í„° ì…ë ¥ í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ reports/          #   ESG ë¦¬í¬íŠ¸ ë·°ì–´
â”‚   â”‚   â”‚   â””â”€â”€ analytics/        #   ë¶„ì„ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ services/             # API í†µì‹  ëª¨ë“ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts            #   MarketService, AiService
â”‚   â”‚   â”‚   â”œâ”€â”€ authApi.ts        #   ì¸ì¦ API (login, signup, token)
â”‚   â”‚   â”‚   â””â”€â”€ profileApi.ts     #   í”„ë¡œí•„ API
â”‚   â”‚   â”œâ”€â”€ components/           # ê³µìš© UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/           #   Header, Layout
â”‚   â”‚   â”‚   â””â”€â”€ ui/               #   Button, Card, Tooltip, Badge
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â””â”€â”€ mockData.ts       #   Mock ë°ì´í„° ë° ê°€ê²© ì‹œë‚˜ë¦¬ì˜¤
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts          #   TypeScript íƒ€ì… (ViewType, TabType ë“±)
â”‚   â”‚   â”œâ”€â”€ App.tsx               # ë©”ì¸ ì•± (ì „ì—­ ìƒíƒœ & ë„¤ë¹„ê²Œì´ì…˜)
â”‚   â”‚   â”œâ”€â”€ main.tsx              # React ì§„ì…ì 
â”‚   â”‚   â””â”€â”€ index.css             # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.ts            # Vite ë¹Œë“œ ì„¤ì •
â”‚   â”œâ”€â”€ package.json              # Node.js ì˜ì¡´ì„± ëª©ë¡
â”‚   â””â”€â”€ tsconfig.json             # TypeScript ì„¤ì •
â”‚
â”œâ”€â”€ PDF_Extraction/               # PDF ì²˜ë¦¬ ë° ë²¡í„° DB êµ¬ì¶•
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ build_vector_db.py    #   ChromaDB ì„ë² ë”© êµ¬ì¶• ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â””â”€â”€ search_vector_db.py   #   ë²¡í„° ê²€ìƒ‰ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ data/                     #   ì…ë ¥ PDF íŒŒì¼ (ESG ë³´ê³ ì„œ)
â”‚   â”œâ”€â”€ vector_db/                #   ChromaDB ì €ì¥ì†Œ (RAG ì§€ì‹ ë² ì´ìŠ¤)
â”‚   â””â”€â”€ requirements.txt          #   PDF ì „ìš© Python ì˜ì¡´ì„±
â”‚
â””â”€â”€ evaluation/                   # AI ëª¨ë¸ ì„±ëŠ¥ í‰ê°€
    â””â”€â”€ evaluate_models.py        #   RAG ì •í™•ë„ ë° ëª¨ë¸ ì„±ëŠ¥ ì¸¡ì •
```

---

## ğŸ—ºï¸ 7. í˜ì´ì§€ ë¼ìš°íŒ… êµ¬ì¡° (Page Routing)

> React Router ë¯¸ì‚¬ìš© â€” `view` state ê¸°ë°˜ ì¡°ê±´ë¶€ ë Œë”ë§ ë°©ì‹
> ìƒì„¸ ì„¤ê³„ì„œ: [`í˜ì´ì§€_ë¼ìš°íŒ…_êµ¬ì¡°.md`](í˜ì´ì§€_ë¼ìš°íŒ…_êµ¬ì¡°.md)

### 7.1 View ë¼ìš°íŒ… (ìµœìƒìœ„ í™”ë©´ ì „í™˜)

| `view` ê°’     | ì»´í¬ë„ŒíŠ¸          | ì„¤ëª…                            |
|:------------- |:----------------- |:------------------------------- |
| `login`       | `<Login>`         | ë¡œê·¸ì¸ í™”ë©´ (ê¸°ë³¸ê°’)             |
| `signup`      | `<Signup>`        | íšŒì›ê°€ì… í™”ë©´                    |
| `welcome`     | `<WelcomePage>`   | í™˜ì˜ í˜ì´ì§€ (3ì´ˆ í›„ ìë™ ì´ë™)   |
| `dashboard`   | íƒ­ ëŒ€ì‹œë³´ë“œ       | ë©”ì¸ ëŒ€ì‹œë³´ë“œ (4ê°œ íƒ­)           |
| `profile`     | `<Profile>`       | í”„ë¡œí•„ ì„¤ì •                      |
| `data-input`  | `<DataInput>`     | ë°ì´í„° ì…ë ¥                      |
| `reports`     | `<Reports>`       | ESG ë¦¬í¬íŠ¸ ë·°ì–´                  |
| `analytics`   | `<Analytics>`     | ë¶„ì„ í˜ì´ì§€                      |

### 7.2 Tab ë¼ìš°íŒ… (`view === 'dashboard'` ë‚´ë¶€)

| `activeTab`  | ì»´í¬ë„ŒíŠ¸           | ì„¤ëª…                              |
|:------------ |:------------------ |:--------------------------------- |
| `dashboard`  | `<DashboardTab>`   | ë°°ì¶œëŸ‰ í˜„í™© + KPI ì¹´ë“œ 4ê°œ         |
| `compare`    | `<CompareTab>`     | ê²½ìŸì‚¬ ë¹„êµ ë¶„ì„                   |
| `simulator`  | `<SimulatorTab>`   | K-ETS ì¤€ìˆ˜ ë¹„ìš© ì‹œë®¬ë ˆì´í„°         |
| `target`     | `<TargetTab>`      | SBTi ëª©í‘œ ê´€ë¦¬ + ì˜ˆì¸¡              |

### 7.3 ë„¤ë¹„ê²Œì´ì…˜ í•µì‹¬ í•¨ìˆ˜

```typescript
// view ë³€ê²½ + URL íˆìŠ¤í† ë¦¬ ë™ì‹œ ê¸°ë¡
const navigateTo = useCallback((newView: ViewType, newTab: TabType = activeTab) => {
  setView(newView);
  setActiveTab(newTab);
  window.history.pushState(
    { view: newView, activeTab: newTab },
    '',
    `?view=${newView}&tab=${newTab}`
  );
}, [activeTab]);
```

### 7.4 ìƒíƒœ ì €ì¥ ë°©ì‹

| ì €ì¥ ìœ„ì¹˜          | ì €ì¥ ëŒ€ìƒ              | ìš©ë„                          |
|:------------------ |:---------------------- |:----------------------------- |
| `localStorage`     | `view`, `activeTab`    | ìƒˆë¡œê³ ì¹¨ ì‹œ ë³µì›               |
| `window.history`   | `{ view, activeTab }`  | ë¸Œë¼ìš°ì € ë’¤ë¡œ/ì•ìœ¼ë¡œ ê°€ê¸°      |
| URL query string   | `?view=...&tab=...`    | í˜„ì¬ ìœ„ì¹˜ë¥¼ URLë¡œ í‘œí˜„         |

---

## âš™ï¸ 8. ì„¤ì¹˜ ë° ì„¤ì • (Installation & Setup)

### 8.0 ì‚¬ì „ ìš”êµ¬ì‚¬í•­ (Prerequisites)

| ì†Œí”„íŠ¸ì›¨ì–´   | ìµœì†Œ ë²„ì „ | ìš©ë„                                 |
|:----------- |:-------- |:------------------------------------ |
| Python       | 3.10+    | ë°±ì—”ë“œ ì„œë²„ ë° AI ëª¨ë¸               |
| Node.js      | 18+      | í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ                      |
| MySQL        | 5.7+     | ì‚¬ìš©ì ë° ë°°ì¶œëŸ‰ ë°ì´í„° ì €ì¥          |
| Ollama       | ìµœì‹      | ë¡œì»¬ LLM (qwen2.5:7b) ì‹¤í–‰           |

### 8.1 ë°±ì—”ë“œ ê°€ë™

```bash
cd backend
python -m venv .venv

# Windows:
.venv\Scripts\activate
# macOS / Linux:
# source .venv/bin/activate

pip install -r ../requirements.txt
pip install -r requirements.txt

# DB ì´ˆê¸°í™” (ìµœì´ˆ 1íšŒ)
python init_db.py
```

**ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ (2ê°€ì§€ ë°©ë²•)**:

#### ë°©ë²• 1: ì•± ì„œë²„ ì‹¤í–‰ (ê¶Œì¥ â€” ëŒ€ì‹œë³´ë“œ, ì‹œë®¬ë ˆì´í„°, AI, KRX)

```bash
# backend/app/main.py ì‚¬ìš©
cd app
uvicorn main:app --reload --port 8000
```

#### ë°©ë²• 2: ë©”ì¸ ì„œë²„ ì‹¤í–‰ (PDF_Extraction í†µí•©)

```bash
# backend/main.py ì‚¬ìš© â€” PDF ë¬¸ì„œ ê²€ìƒ‰ ë° RAG ê¸°ëŠ¥ í¬í•¨
python main.py
# ë˜ëŠ”
uvicorn main:app --reload --port 8000
```

> [!NOTE]
> - `backend/app/main.py`: ì‹œì¥ ì‹œë®¬ë ˆì´ì…˜, ëŒ€ì‹œë³´ë“œ, KRX ë°ì´í„°, AI ì „ëµ, ì¸ì¦, í”„ë¡œí•„ API í¬í•¨
> - `backend/main.py`: PDF ê²€ìƒ‰, RAG ì±—ë´‡, ë¬¸ì„œ ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€ í†µí•©

### 8.2 í”„ë¡ íŠ¸ì—”ë“œ ê°€ë™

```bash
cd frontend
npm install
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:5173` ì ‘ì†

### 8.3 AI ë° RAG í™˜ê²½ ì„¤ì • (ì„ íƒì‚¬í•­)

RAG ì±—ë´‡ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:

#### Ollama ì„¤ì¹˜ ë° ëª¨ë¸ ë‹¤ìš´ë¡œë“œ

```bash
# Ollama ì„¤ì¹˜: https://ollama.ai
# ì„¤ì¹˜ í›„ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
ollama pull qwen2.5:7b
```

#### ë²¡í„° DB êµ¬ì¶•

```bash
cd PDF_Extraction

# ì˜ì¡´ì„± ì„¤ì¹˜ (ìµœì´ˆ 1íšŒ)
pip install -r ../requirements.txt

# PDF íŒŒì¼ì„ data/ í´ë”ì— ë°°ì¹˜ í›„ ë²¡í„° DB êµ¬ì¶•
python src/build_vector_db.py
```

> [!IMPORTANT]
> ChromaDBëŠ” `PDF_Extraction/vector_db/` ê²½ë¡œì— ì €ì¥ë©ë‹ˆë‹¤.
> ì´ í´ë”ê°€ ì—†ìœ¼ë©´ RAG ê¸°ë°˜ ì±—ë´‡ ê¸°ëŠ¥ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### 8.4 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ ìƒì„±:

```env
# --- Database (MySQL) ---
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=esg

# --- Frontend API Base URL ---
VITE_API_BASE_URL=http://127.0.0.1:8000

# --- JWT Secret ---
JWT_SECRET_KEY=your_jwt_secret_key_here

# --- Ollama (Local LLM) ---
OLLAMA_API_URL=http://localhost:11434

# --- Vector DB (ChromaDB) ---
CHROMA_HOST=localhost
CHROMA_PORT=3214
VECTOR_DB_PATH=./PDF_Extraction/vector_db

# --- External Market Data APIs ---
Alpha_Vantage_API=your_alpha_vantage_key   # EU-ETS íƒ„ì†Œ ê°€ê²©
KRX_api=your_krx_api_key                   # í•œêµ­ê±°ë˜ì†Œ ë°ì´í„°
Oil_Price_API=your_oil_price_api_key       # WTI / Brent ìœ ê°€

# --- AI (OpenAI, HuggingFace - ì„ íƒì‚¬í•­) ---
OPENAI_API_KEY=sk-...
HF_TOKEN=hf_...
```

---

## ğŸ“Š 9. API ëª…ì„¸ (API Specification)

> FastAPI Swagger UI: `http://127.0.0.1:8000/docs`

### 9.1 ì¸ì¦ API (`/auth`)

| ì—”ë“œí¬ì¸íŠ¸      | ë©”ì„œë“œ | ìš”ì²­ Body                        | ì„¤ëª…                     |
|:--------------- |:------ |:-------------------------------- |:------------------------ |
| `/auth/signup`  | POST   | `{ email, password }`            | íšŒì›ê°€ì…                  |
| `/auth/login`   | POST   | `{ email, password }`            | ë¡œê·¸ì¸ â†’ JWT ë°˜í™˜         |

### 9.2 ëŒ€ì‹œë³´ë“œ API (`/api/v1/dashboard`)

| ì—”ë“œí¬ì¸íŠ¸                    | ë©”ì„œë“œ | íŒŒë¼ë¯¸í„°        | ì„¤ëª…                                          |
|:----------------------------- |:------ |:--------------- |:--------------------------------------------- |
| `/api/v1/dashboard/companies` | GET    | -               | ì „ì²´ ê¸°ì—… ë°°ì¶œëŸ‰ ëª©ë¡ (history ë°°ì—´ í¬í•¨)      |
| `/api/v1/dashboard/benchmarks`| GET    | `company_id`    | ì—…ê³„ ë²¤ì¹˜ë§ˆí¬ ì„ê³„ì„  (Top10%, ì¤‘ì•™ê°’, Bottom10%) |

**ì‘ë‹µ ì˜ˆì‹œ** (`/companies` ë‹¨ì¼ í•­ëª©):

```json
{
  "id": 1,
  "name": "í˜„ëŒ€ê±´ì„¤",
  "s1": 75000,
  "s2": 45000,
  "s3": 130684,
  "revenue": 500000000000,
  "baseEmissions": 250684,
  "carbon_intensity_scope1": 15.0,
  "carbon_intensity_scope2": 9.0,
  "carbon_intensity_scope3": 26.1,
  "history": [
    { "year": 2021, "s1": 80000, "s2": 48000, "s3": 140000 },
    { "year": 2022, "s1": 77000, "s2": 46000, "s3": 135000 }
  ]
}
```

### 9.3 ì‹œë®¬ë ˆì´í„° API (`/api/v1/sim`)

| ì—”ë“œí¬ì¸íŠ¸                         | ë©”ì„œë“œ | íŒŒë¼ë¯¸í„°                         | ì„¤ëª…                                               |
|:----------------------------------- |:------ |:-------------------------------- |:-------------------------------------------------- |
| `/api/v1/sim/dashboard/market-trends` | GET  | `period` (1m/3m/1y/all)          | EU-ETS / K-ETS ì „ì²´ ì´ë ¥ ë°ì´í„° (í”„ë¡ íŠ¸ì—ì„œ 1ê°œì›”/3ê°œì›”/1ë…„/ì „ì²´ í•„í„°ë§) |
| `/api/v1/sim/market/oil-prices`      | GET   | -                                | WTI / Brent ìœ ê°€ ì •ë³´                             |
| `/api/v1/sim/dashboard/trend-combined` | GET | `company`, `period`              | ê¸°ì—…ë³„ íƒ„ì†Œ ë¦¬ìŠ¤í¬ ë¹„ìš© ì‹œë®¬ë ˆì´ì…˜                 |

**ì‘ë‹µ ì˜ˆì‹œ** (`/market-trends`):

```json
{
  "chart_data": [
    { "date": "2024-01-15", "krPrice": 14200, "euPrice": 62.3, "type": "actual" },
    { "date": "2024-01-16", "krPrice": 14350, "euPrice": 63.1, "type": "actual" }
  ]
}
```

### 9.4 AI ì „ëµ API (`/api/v1/ai`)

| ì—”ë“œí¬ì¸íŠ¸             | ë©”ì„œë“œ | ì„¤ëª…                                                      |
|:---------------------- |:------ |:--------------------------------------------------------- |
| `/api/v1/ai/chat`      | POST   | ESG ë¬¸ì„œ ê¸°ë°˜ RAG ì±—ë´‡ (ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ)                   |
| `/api/v1/ai/strategy`  | POST   | ì‹œì¥ ë™í–¥ ë¶„ì„ ê¸°ë°˜ ìµœì  íƒ„ì†Œ ë°°ì¶œê¶Œ ì¡°ë‹¬ ì „ëµ ìƒì„±        |
| `/api/v1/ai/text-to-sql` | POST | ìì—°ì–´ë¥¼ SQL ì¿¼ë¦¬ë¡œ ìë™ ë³€í™˜                             |

**Request Body** (`/chat`):

```json
{
  "message": "íƒ„ì†Œ ë°°ì¶œëŸ‰ ê°ì¶• ëª©í‘œë¥¼ ì•Œë ¤ì¤˜",
  "history": [
    { "role": "user", "content": "ì´ì „ ì§ˆë¬¸" },
    { "role": "assistant", "content": "ì´ì „ ë‹µë³€" }
  ],
  "companyName": "í˜„ëŒ€ê±´ì„¤",
  "reportScope": "all",
  "reportYear": "2023"
}
```

**Request Body** (`/strategy`):

```json
{
  "companyId": 1,
  "market": "K-ETS",
  "currentPrice": 15200
}
```

### 9.5 í•œêµ­ê±°ë˜ì†Œ ë°ì´í„° API (`/api/v1/krx`)

| ì—”ë“œí¬ì¸íŠ¸              | ë©”ì„œë“œ | íŒŒë¼ë¯¸í„°                              | ì„¤ëª…                              |
|:----------------------- |:------ |:------------------------------------- |:--------------------------------- |
| `/api/v1/krx/kospi`     | GET    | `date` (YYYYMMDD, ì„ íƒ)               | KOSPI ì§€ìˆ˜ ì‹œì„¸ ì¡°íšŒ              |
| `/api/v1/krx/kosdaq`    | GET    | `date` (YYYYMMDD, ì„ íƒ)               | KOSDAQ ì§€ìˆ˜ ì‹œì„¸ ì¡°íšŒ             |
| `/api/v1/krx/stocks`    | GET    | `market` (ALL/KOSPI/KOSDAQ)           | ìƒì¥ ì¢…ëª© ëª©ë¡ (ìƒìœ„ 50ê°œ)        |
| `/api/v1/krx/stock/{ticker}` | GET | `ticker` (ì˜ˆ: 005930)               | íŠ¹ì • ì¢…ëª© ì‹œì„¸ ì¡°íšŒ               |

### 9.6 í”„ë¡œí•„ API (`/api/v1/profile`)

| ì—”ë“œí¬ì¸íŠ¸              | ë©”ì„œë“œ | ì„¤ëª…                                                 |
|:----------------------- |:------ |:--------------------------------------------------- |
| `/api/v1/profile`       | PUT    | í”„ë¡œí•„ ì •ë³´ ìˆ˜ì • (ë‹‰ë„¤ì„, ë¶„ë¥˜, ìê¸°ì†Œê°œ, ì´ë¯¸ì§€)     |
| `/api/v1/profile`       | DELETE | ê³„ì • ì‚­ì œ (íƒˆí‡´)                                     |

### 9.7 ì¶”ê°€ ì—”ë“œí¬ì¸íŠ¸ (`backend/main.py`)

| ì—”ë“œí¬ì¸íŠ¸         | ë©”ì„œë“œ | ì„¤ëª…                                              |
|:------------------ |:------ |:----------------------------------------------- |
| `/`                | GET    | API ì„œë²„ ìƒíƒœ í™•ì¸                               |
| `/api/health`      | GET    | API í—¬ìŠ¤ ì²´í¬                                    |
| `/api/search`      | GET    | ESG ë¬¸ì„œ ë²¡í„° ê²€ìƒ‰ (ChromaDB, `q` íŒŒë¼ë¯¸í„°)      |
| `/api/companies`   | GET    | ë°ì´í„°ë² ì´ìŠ¤ ë‚´ ê¸°ì—… ëª©ë¡ ì¡°íšŒ                    |
| `/api/stats`       | GET    | ë°ì´í„°ë² ì´ìŠ¤ í†µê³„ (ì´ ì²­í¬ ìˆ˜, ê¸°ì—… ìˆ˜ ë“±)        |

---

## ğŸ¤– 10. AI ëª¨ë¸ í‰ê°€ (AI Model Evaluation)

í”Œë«í¼ì˜ ì‹ ë¢°ì„±ì„ ìœ„í•´ íƒ‘ì¬ëœ ëª¨ë¸ë“¤ì„ ì •ê¸°ì ìœ¼ë¡œ ìë™ í‰ê°€í•©ë‹ˆë‹¤.

- **ì‹¤í–‰ ë°©ë²•**: `python evaluation/evaluate_models.py`
- **í‰ê°€ í•­ëª©**:
  - RAG ë‹µë³€ì˜ ì •ë‹µì§€(Answer Key) ëŒ€ë¹„ ì¼ì¹˜ìœ¨
  - Monte Carlo ìˆ˜ë ´ ì•ˆì •ì„± (10,000íšŒ)
  - OLS íšŒê·€ ê³„ìˆ˜ ìœ ì˜ì„± ë° ì”ì°¨ ë¶„ì„
  - ì¶”ë¡  ì‹œê°„ ë° ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±

---

## ğŸ“Œ DB ìŠ¤í‚¤ë§ˆ ì£¼ìš” í…Œì´ë¸”

### `users`

| ì»¬ëŸ¼ëª…              | íƒ€ì…         | ì„¤ëª…                         |
|:------------------- |:------------ |:---------------------------- |
| `id`                | INT (PK)     | ì‚¬ìš©ì ID                    |
| `email`             | VARCHAR (UQ) | ì´ë©”ì¼ (ë¡œê·¸ì¸ ì‹ë³„ì)        |
| `company_name`      | VARCHAR      | ì†Œì† ê¸°ì—…ëª…                  |
| `hashed_password`   | VARCHAR      | bcrypt í•´ì‹œ ë¹„ë°€ë²ˆí˜¸          |
| `nickname`          | VARCHAR      | ë‹‰ë„¤ì„                       |
| `classification`    | VARCHAR      | ë©¸ì¢…ìœ„ê¸°ì¢… ë¶„ë¥˜ í…Œë§ˆ          |
| `bio`               | TEXT         | ìê¸°ì†Œê°œ (ìµœëŒ€ 500ì)        |
| `profile_image_url` | VARCHAR      | í”„ë¡œí•„ ì´ë¯¸ì§€ ê²½ë¡œ            |
| `created_at`        | DATETIME     | ê°€ì…ì¼ì‹œ                     |

### `dashboard_emissions`

| ì»¬ëŸ¼ëª…                        | íƒ€ì…     | ì„¤ëª…                           |
|:----------------------------- |:-------- |:------------------------------ |
| `id`                          | INT (PK) | ë ˆì½”ë“œ ID                      |
| `company_id`                  | INT      | ê¸°ì—… ID                        |
| `company_name`                | VARCHAR  | ê¸°ì—…ëª…                         |
| `year`                        | INT      | ë°ì´í„° ê¸°ì¤€ ì—°ë„               |
| `scope1`, `scope2`, `scope3`  | FLOAT    | Scopeë³„ ë°°ì¶œëŸ‰ (tCOâ‚‚e)        |
| `allowance`                   | FLOAT    | ë¬´ìƒ í• ë‹¹ëŸ‰ (tCOâ‚‚e)           |
| `revenue`                     | FLOAT    | ë§¤ì¶œì•¡ (ì›)                    |
| `carbon_intensity_scope1`     | FLOAT    | Scope 1 íƒ„ì†Œ ì§‘ì•½ë„ (tCOâ‚‚e/ì–µì›) |
| `carbon_intensity_scope2`     | FLOAT    | Scope 2 íƒ„ì†Œ ì§‘ì•½ë„ (tCOâ‚‚e/ì–µì›) |
| `carbon_intensity_scope3`     | FLOAT    | Scope 3 íƒ„ì†Œ ì§‘ì•½ë„ (tCOâ‚‚e/ì–µì›) |
| `energy_intensity`            | FLOAT    | ì—ë„ˆì§€ ì§‘ì•½ë„ (TJ/ì–µì›)        |
| `base_year`                   | INT      | SBTi ê¸°ì¤€ ì—°ë„                 |
| `base_emissions`              | FLOAT    | ê¸°ì¤€ ì—°ë„ ì´ ë°°ì¶œëŸ‰            |
| `data_source`                 | VARCHAR  | ë°ì´í„° ì¶œì²˜ (PDFëª… ë“±)         |
| `is_verified`                 | BOOLEAN  | ê²€ì¦ ì—¬ë¶€                      |

---

**ğŸ“… Last Updated**: 2026-02-19
**ğŸ“„ License**: Educational & Research Purpose Only
