# ğŸ—ºï¸ í˜ì´ì§€ ë¼ìš°íŒ… êµ¬ì¡°

> **ê¸°ì¤€ íŒŒì¼:** `App.tsx` + `DashboardTab.tsx` (ìµœì‹  ìˆ˜ì •ë³¸)  
> **ì‘ì„±ì¼:** 2026-02-14  
> **ë¼ìš°íŒ… ë°©ì‹:** React Router ë¯¸ì‚¬ìš© â€” `view` state ì¡°ê±´ë¶€ ë Œë”ë§

---

## 1. ì „ì²´ ë¼ìš°íŒ… íë¦„í‘œ

| view ê°’ | ì»´í¬ë„ŒíŠ¸ | íŒŒì¼ ìœ„ì¹˜ | ì§„ì… ì¡°ê±´ | ë‚˜ê°€ëŠ” ê²½ë¡œ |
|---------|---------|---------|---------|-----------|
| `login` | `<Login>` | `features/auth/Login.tsx` | ê¸°ë³¸ê°’ / ë¡œê·¸ì•„ì›ƒ | â†’ `welcome`, â†’ `signup` |
| `signup` | `<Signup>` | `features/auth/Signup.tsx` | "íšŒì›ê°€ì…" ë²„íŠ¼ í´ë¦­ | â†’ `login`, â†’ `welcome` |
| `welcome` | `<WelcomePage>` | `features/auth/WelcomePage.tsx` | ë¡œê·¸ì¸/íšŒì›ê°€ì… ì„±ê³µ | â†’ `dashboard` (3ì´ˆ ìë™) |
| `dashboard` | íƒ­ ëŒ€ì‹œë³´ë“œ | `App.tsx` ë©”ì¸ ì˜ì—­ | welcome ì™„ë£Œ | â†’ `profile`, `data-input`, `reports`, `analytics` |
| `profile` | `<Profile>` | `features/profile/Profile.tsx` | í—¤ë” í”„ë¡œí•„ ë©”ë‰´ | â†’ `dashboard` |
| `data-input` | `<DataInput>` | `features/data-input/DataInput.tsx` | í—¤ë” Workspaces | â†’ `dashboard` |
| `reports` | `<Reports>` | `features/reports/Reports.tsx` | í—¤ë” Workspaces | â†’ `dashboard` |
| `analytics` | `<Analytics>` | `features/analytics/Analytics.tsx` | í—¤ë” Workspaces | â†’ `dashboard` |

---

## 2. ì „ì²´ íë¦„ë„

```
[ì•± ì‹œì‘]
    â”‚
    â–¼
login â”€â”€â”€â”€ "íšŒì›ê°€ì…" â”€â”€â”€â”€â–º signup
    â”‚                          â”‚
    â”‚ ë¡œê·¸ì¸ ì„±ê³µ              â”‚ ê°€ì… ì„±ê³µ
    â–¼                          â”‚
welcome â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ 3ì´ˆ ìë™ ë˜ëŠ” ë²„íŠ¼ í´ë¦­
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (ë¡œê·¸ì¸ ì´í›„ ëª¨ë“  í˜ì´ì§€ì—ì„œ í•­ìƒ ê³ ì •)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ view ê°’ì— ë”°ë¼ main ì˜ì—­ë§Œ êµì²´
    â”‚
    â”œâ”€â”€â–º view=dashboard   â”€â”€ activeTabìœ¼ë¡œ 5ê°œ íƒ­ ì „í™˜
    â”‚         â”‚
    â”‚         â”œâ”€â”€ dashboard  íƒ­ â†’ <DashboardTab>
    â”‚         â”œâ”€â”€ compare    íƒ­ â†’ <CompareTab>
    â”‚         â”œâ”€â”€ simulator  íƒ­ â†’ <SimulatorTab>
    â”‚         â”œâ”€â”€ target     íƒ­ â†’ <TargetTab>
    â”‚         â””â”€â”€ investment íƒ­ â†’ <InvestmentTab>
    â”‚
    â”œâ”€â”€â–º view=profile
    â”œâ”€â”€â–º view=data-input
    â”œâ”€â”€â–º view=reports
    â””â”€â”€â–º view=analytics
              â”‚
              â””â”€â”€ "ëŒì•„ê°€ê¸°" â†’ navigateTo('dashboard')
```

---

## 3. dashboard ë‚´ë¶€ íƒ­ (activeTab)

> `view === 'dashboard'` ì¼ ë•Œë§Œ ë Œë”ë§ë˜ë©° `activeTab` stateë¡œ ì „í™˜

| activeTab | ì»´í¬ë„ŒíŠ¸ | íŒŒì¼ ìœ„ì¹˜ | ë¹„ê³  |
|----------|---------|---------|------|
| `dashboard` | `<DashboardTab>` | `features/ëŒ€ì‹œë³´ë“œ/DashboardTab.tsx` | ğŸ†• ë„¤ë¹„ê²Œì´ì…˜ ì¹´ë“œ 4ê°œ + activeScopes ì—°ê²° |
| `compare` | `<CompareTab>` | `features/ê²½ìŸì‚¬ë¹„êµ/CompareTab.tsx` | ë³€ê²½ ì—†ìŒ |
| `simulator` | `<SimulatorTab>` | `features/ì‹œë®¬ë ˆì´í„°/SimulatorTab.tsx` | K-ETS ì‹œë®¬ë ˆì´í„° props ëŒ€í­ ì¶”ê°€ |
| `target` | `<TargetTab>` | `features/ëª©í‘œì„¤ì •/TargetTab.tsx` | ë³€ê²½ ì—†ìŒ |
| `investment` | `<InvestmentTab>` | `features/íˆ¬ìê³„íš/InvestmentTab.tsx` | ë³€ê²½ ì—†ìŒ |

### íƒ­ ì •ì˜ (App.tsx ë¼ì¸ 53-59)

```typescript
const tabs = [
  { id: 'dashboard'  as TabType, label: 'ëŒ€ì‹œë³´ë“œ' },
  { id: 'compare'    as TabType, label: 'ê²½ìŸì‚¬ ë¹„êµ' },
  { id: 'simulator'  as TabType, label: 'ETS ì‹œë®¬ë ˆì´í„°' },
  { id: 'target'     as TabType, label: 'ëª©í‘œ ê´€ë¦¬' },
  { id: 'investment' as TabType, label: 'íˆ¬ì ê³„íš' },
];
```

---

## 4. DashboardTab ë‚´ë¶€ ë„¤ë¹„ê²Œì´ì…˜ ì¹´ë“œ (ì‹ ê·œ)

> `DashboardTab.tsx`ì— ì¶”ê°€ëœ íƒ­ ê°„ ë°”ë¡œê°€ê¸° ì¹´ë“œ 4ê°œ  
> í´ë¦­ ì‹œ `onNavigateToTab()` ì½œë°±ì„ í†µí•´ `activeTab` ë³€ê²½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DashboardTab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ê²½ìŸì‚¬ ëŒ€ë¹„    â”‚ â”‚ ì˜ˆìƒ ë°°ì¶œê¶Œ    â”‚ â”‚SBTi ëª©í‘œ  â”‚ â”‚ë…¹ìƒ‰   â”‚  â”‚
â”‚  â”‚ íƒ„ì†Œ ì§‘ì•½ë„   â”‚ â”‚ êµ¬ë§¤ ë¹„ìš©     â”‚ â”‚ë‹¬ì„±ë¥      â”‚ â”‚íˆ¬ì   â”‚  â”‚
â”‚  â”‚   Top 5%    â”‚ â”‚  â‚©12.5ì–µ     â”‚ â”‚  92.4%   â”‚ â”‚ROI   â”‚  â”‚
â”‚  â”‚             â”‚ â”‚              â”‚ â”‚          â”‚ â”‚14.2% â”‚  â”‚
â”‚  â”‚    â†“ í´ë¦­    â”‚ â”‚    â†“ í´ë¦­    â”‚ â”‚  â†“ í´ë¦­  â”‚ â”‚â†“ í´ë¦­â”‚  â”‚
â”‚  â”‚  compare íƒ­  â”‚ â”‚ simulator íƒ­  â”‚ â”‚ targetíƒ­ â”‚ â”‚investâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  KPICards (4ê°œ)                                              â”‚
â”‚  EmissionPieChart  |  TrendChart (activeScopes ì—°ë™)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì¹´ë“œë³„ ìƒì„¸

| ì¹´ë“œ | í‘œì‹œê°’ | í´ë¦­ ì‹œ ì´ë™ | êµ¬í˜„ ì½”ë“œ |
|-----|-------|-----------|---------|
| ê²½ìŸì‚¬ ëŒ€ë¹„ íƒ„ì†Œ ì§‘ì•½ë„ | Top 5% | `compare` íƒ­ | `onNavigateToTab?.('compare')` |
| ì˜ˆìƒ ë°°ì¶œê¶Œ êµ¬ë§¤ ë¹„ìš© | â‚©12.5ì–µ | `simulator` íƒ­ | `onNavigateToTab?.('simulator')` |
| SBTi ê°ì¶• ëª©í‘œ ë‹¬ì„±ë¥  | 92.4% | `target` íƒ­ | `onNavigateToTab?.('target')` |
| ë…¹ìƒ‰ íˆ¬ì ROI ì˜ˆì¸¡ | 14.2% | `investment` íƒ­ | `onNavigateToTab?.('investment')` |

> âš ï¸ í˜„ì¬ ì¹´ë“œ í‘œì‹œê°’ì€ **í•˜ë“œì½”ë”©** ìƒíƒœ. `compareData`, `simulatorData`, `investmentData` propsëŠ” ì „ë‹¬ë°›ì§€ë§Œ ë‚´ë¶€ì—ì„œ ì•„ì§ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ â€” ì¶”í›„ ë™ì  ì—°ê²° í•„ìš”

### ì½œë°± ì—°ê²° íë¦„

```
DashboardTab.tsx
  onClick={() => onNavigateToTab?.('compare')}
        â”‚
        â–¼
App.tsx (ë¼ì¸ 807)
  onNavigateToTab={(tabId) => setActiveTab(tabId as TabType)}
        â”‚
        â–¼
  activeTab = 'compare'
        â”‚
        â–¼
  <CompareTab> ë Œë”ë§
```

---

## 5. DashboardTab Props ì „ì²´ ëª©ë¡

| props | íƒ€ì… | í•„ìˆ˜ | ìš©ë„ |
|-------|-----|------|------|
| `selectedComp` | `Competitor` | âœ… | ì„ íƒëœ íšŒì‚¬ ë°ì´í„° |
| `costEU_KRW` | `number` | âœ… | EU ETS ë¦¬ìŠ¤í¬ ë¹„ìš© (ì›í™”) |
| `ytdAnalysis` | `object` | âœ… | ì „ë…„ ëŒ€ë¹„ ì§‘ì•½ë„ ë¶„ì„ |
| `intensityType` | `string` | âœ… | ì§‘ì•½ë„ ê¸°ì¤€ (revenue/production) |
| `sbtiAnalysis` | `{ trajectory }` | âœ… | SBTi ê¶¤ì  ë°ì´í„° |
| `activeScopes` | `{ s1, s2, s3: boolean }` | âœ… | ğŸ†• Scope í•„í„° ìƒíƒœ |
| `setActiveScopes` | `Dispatch` | âœ… | ğŸ†• Scope í† ê¸€ í•¸ë“¤ëŸ¬ |
| `compareData` | `any` | âŒ | ê²½ìŸì‚¬ ìˆœìœ„ ë°ì´í„° (ë¯¸ì‚¬ìš©) |
| `simulatorData` | `any` | âŒ | ì‹œì¥ ê°€ê²© ë°ì´í„° (ë¯¸ì‚¬ìš©) |
| `investmentData` | `any` | âŒ | ROI/íšŒìˆ˜ê¸°ê°„ ë°ì´í„° (ë¯¸ì‚¬ìš©) |
| `onNavigateToTab` | `(tab: string) => void` | âŒ | ğŸ†• íƒ­ ì´ë™ ì½œë°± |

---

## 6. TrendChart â€” activeScopes ì—°ë™ (ì‹ ê·œ)

```typescript
// ê¸°ì¡´
<TrendChart trajectory={sbtiAnalysis?.trajectory ?? []} />

// í˜„ì¬ â€” Scope í•„í„° props ì¶”ê°€
<TrendChart
  trajectory={sbtiAnalysis?.trajectory ?? []}
  activeScopes={activeScopes}        // { s1: true, s2: true, s3: false }
  setActiveScopes={setActiveScopes}  // Scope í† ê¸€ í•¸ë“¤ëŸ¬
/>
```

---

## 7. ë„¤ë¹„ê²Œì´ì…˜ í•µì‹¬ í•¨ìˆ˜

### navigateTo() (App.tsx ë¼ì¸ 143-148)

```typescript
// view ë³€ê²½ + URL íˆìŠ¤í† ë¦¬ ë™ì‹œ ê¸°ë¡
const navigateTo = useCallback((newView: ViewType, newTab: TabType = activeTab) => {
  setView(newView);
  setActiveTab(newTab);
  window.history.pushState(
    { view: newView, activeTab: newTab },
    '',
    `?view=${newView}&tab=${newTab}`
  );
}, [activeTab]);
```

### ì‚¬ìš©ì²˜ ì •ë¦¬

| ìœ„ì¹˜ | í˜¸ì¶œ ì½”ë“œ | ê²°ê³¼ |
|-----|---------|------|
| Header ë¡œê³  í´ë¦­ | `navigateTo('dashboard', 'dashboard')` | ëŒ€ì‹œë³´ë“œ íƒ­ ì´ˆê¸°í™” |
| Header í”„ë¡œí•„ í´ë¦­ | `navigateTo('profile')` | í”„ë¡œí•„ í˜ì´ì§€ ì´ë™ |
| Header íƒ­ í´ë¦­ | `navigateTo('dashboard', tab)` | í•´ë‹¹ íƒ­ìœ¼ë¡œ ì´ë™ |
| ì„œë¸Œ í˜ì´ì§€ ëŒì•„ê°€ê¸° | `navigateTo('dashboard')` | ëŒ€ì‹œë³´ë“œ ë³µê·€ |
| ë¡œê·¸ì•„ì›ƒ | `setView('login')` | íˆìŠ¤í† ë¦¬ ë¯¸ê¸°ë¡ |

### ë¸Œë¼ìš°ì € ë’¤ë¡œ/ì•ìœ¼ë¡œ ê°€ê¸° (ë¼ì¸ 151-161)

```typescript
useEffect(() => {
  const handlePopState = (event: PopStateEvent) => {
    if (event.state) {
      setView(event.state.view || 'dashboard');
      setActiveTab(event.state.activeTab || 'dashboard');
    }
  };
  window.addEventListener('popstate', handlePopState);
  return () => window.removeEventListener('popstate', handlePopState);
}, []);
```

---

## 8. Header ê³ ì • êµ¬ì¡°

```typescript
// login, signup, welcome â€” early return (Header ì—†ìŒ)
if (view === 'login')   return <Login onLogin={() => setView('welcome')} onSignup={() => setView('signup')} />;
if (view === 'signup')  return <Signup onBack={() => setView('login')} onComplete={() => setView('welcome')} />;
if (view === 'welcome') return <WelcomePage onContinue={() => setView('dashboard')} companyName={...} />;

// ê·¸ ì™¸ â€” Header ê³ ì • + main ì˜ì—­ë§Œ êµì²´
return (
  <div>
    <Header
      setActiveTab={(tab) => navigateTo('dashboard', tab)}
      onLogoClick={() => navigateTo('dashboard', 'dashboard')}
      onProfileClick={() => navigateTo('profile')}
      onLogout={() => setView('login')}
    />
    <main>
      {view === 'profile'    && <Profile onBack={() => navigateTo('dashboard')} />}
      {view === 'data-input' && <DataInput onBack={() => navigateTo('dashboard')} />}
      {view === 'reports'    && <Reports onBack={() => navigateTo('dashboard')} />}
      {view === 'analytics'  && <Analytics onBack={() => navigateTo('dashboard')} />}
      {view === 'dashboard'  && <...5ê°œ íƒ­ ì»´í¬ë„ŒíŠ¸... />}
    </main>
    <ChatBot />
  </div>
);
```

---

## 9. ìƒíƒœ ì €ì¥ ë°©ì‹

| ì €ì¥ ìœ„ì¹˜ | ì €ì¥ ëŒ€ìƒ | ë³µì› ì‹œì  | ìš©ë„ |
|---------|---------|---------|------|
| `localStorage` | `view`, `activeTab` | ì•± ìµœì´ˆ ë Œë”ë§ | ìƒˆë¡œê³ ì¹¨ ì‹œ ë³µì› |
| `window.history` | `{ view, activeTab }` | `popstate` ì´ë²¤íŠ¸ | ë¸Œë¼ìš°ì € ë’¤ë¡œ/ì•ìœ¼ë¡œ ê°€ê¸° |
| URL query string | `?view=...&tab=...` | â€” | í˜„ì¬ ìœ„ì¹˜ë¥¼ URLë¡œ í‘œí˜„ |

```typescript
// ì´ˆê¸°ê°’ ë³µì› (ë¼ì¸ 68-77)
const [view, setView] = useState<ViewType>(() => {
  return (localStorage.getItem('view') as ViewType) || 'login';
});
const [activeTab, setActiveTab] = useState<TabType>(() => {
  return (localStorage.getItem('activeTab') as TabType) || 'dashboard';
});

// ë³€ê²½ ì‹œ ì €ì¥ (ë¼ì¸ 168-176)
useEffect(() => { localStorage.setItem('view', view); }, [view]);
useEffect(() => { localStorage.setItem('activeTab', activeTab); }, [activeTab]);
```

---

## 10. TypeScript íƒ€ì… ì •ì˜

```typescript
// App.tsx ë¼ì¸ 28
type ViewType =
  | 'login' | 'signup' | 'welcome' | 'dashboard'
  | 'profile' | 'data-input' | 'reports' | 'analytics';

// types/index.ts
type TabType =
  | 'dashboard' | 'compare' | 'simulator' | 'target' | 'investment';
```

---

**ğŸ“… ì‘ì„±ì¼:** 2026-02-14
